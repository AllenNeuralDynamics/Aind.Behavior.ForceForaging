{
  "definitions": {
    "Block": {
      "properties": {
        "mode": {
          "const": "Block",
          "default": "Block",
          "title": "Mode",
          "type": "string"
        },
        "trials": {
          "default": [],
          "description": "List of trials in the block",
          "items": {
            "$ref": "#/definitions/Trial"
          },
          "title": "Trials",
          "type": "array"
        },
        "shuffle": {
          "default": false,
          "description": "Whether to shuffle the trials in the block",
          "title": "Shuffle",
          "type": "boolean"
        },
        "repeat_count": {
          "default": 0,
          "description": "Number of times to repeat the block. If null, the block will be repeated indefinitely",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Repeat Count"
        }
      },
      "title": "Block",
      "type": "object"
    },
    "Environment": {
      "properties": {
        "block_statistics": {
          "description": "Statistics of the environment",
          "items": {
            "$ref": "#/definitions/EnvironmentStatistics"
          },
          "title": "Block Statistics",
          "type": "array"
        },
        "shuffle": {
          "default": false,
          "description": "Whether to shuffle the blocks",
          "title": "Shuffle",
          "type": "boolean"
        },
        "repeat_count": {
          "default": 0,
          "description": "Number of times to repeat the environment. If null, the environment will be repeated indefinitely",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "title": "Repeat Count"
        }
      },
      "required": [
        "block_statistics"
      ],
      "title": "Environment",
      "type": "object"
    },
    "EnvironmentStatistics": {
      "discriminator": {
        "mapping": {
          "Block": "#/definitions/Block",
          "RandomWalk": "#/definitions/RandomWalkStatistics"
        },
        "propertyName": "mode"
      },
      "oneOf": [
        {
          "$ref": "#/definitions/Block"
        },
        {
          "$ref": "#/definitions/RandomWalkStatistics"
        }
      ],
      "title": "EnvironmentStatistics"
    },
    "HarvestAction": {
      "discriminator": {
        "mapping": {
          "LeftHarvestAction": "#/definitions/LeftHarvestAction",
          "RightHarvestAction": "#/definitions/RightHarvestAction"
        },
        "propertyName": "label"
      },
      "oneOf": [
        {
          "$ref": "#/definitions/LeftHarvestAction"
        },
        {
          "$ref": "#/definitions/RightHarvestAction"
        }
      ],
      "title": "HarvestAction"
    },
    "InitiationPeriod": {
      "description": "Defines an initiation period",
      "properties": {
        "duration": {
          "default": 0,
          "description": "Duration of the initiation period",
          "minimum": 0.0,
          "title": "Duration",
          "type": "number"
        },
        "has_cue": {
          "default": true,
          "description": "Whether to use a cue to signal the start of the period.",
          "title": "Has Cue",
          "type": "boolean"
        },
        "abort_on_force": {
          "default": false,
          "description": "Whether to abort the trial if a choice is made during the initiation period.",
          "title": "Abort On Force",
          "type": "boolean"
        },
        "abort_on_force_threshold": {
          "default": 0,
          "description": "Time out for the quiescence period",
          "maximum": 32768.0,
          "minimum": -32768.0,
          "title": "Abort On Force Threshold",
          "type": "number"
        }
      },
      "title": "InitiationPeriod",
      "type": "object"
    },
    "LeftHarvestAction": {
      "properties": {
        "label": {
          "const": "LeftHarvestAction",
          "default": "LeftHarvestAction",
          "title": "Label",
          "type": "string"
        },
        "probability": {
          "default": 1,
          "description": "Probability of reward",
          "title": "Probability",
          "type": "number"
        },
        "amount": {
          "default": 1,
          "description": "Amount of reward to be delivered",
          "title": "Amount",
          "type": "number"
        },
        "delay": {
          "default": 0,
          "description": "Delay between successful harvest and reward delivery",
          "title": "Delay",
          "type": "number"
        },
        "force_duration": {
          "default": 0.5,
          "description": "Duration that the force much stay above threshold",
          "title": "Force Duration",
          "type": "number"
        },
        "force_threshold": {
          "default": 5000,
          "description": "Force to be applied",
          "maximum": 32768.0,
          "minimum": -32768.0,
          "title": "Force Threshold",
          "type": "number"
        }
      },
      "title": "LeftHarvestAction",
      "type": "object"
    },
    "NumericalUpdater": {
      "additionalProperties": false,
      "properties": {
        "operation": {
          "allOf": [
            {
              "$ref": "#/definitions/NumericalUpdaterOperation"
            }
          ],
          "default": "None",
          "description": "Operation to perform on the parameter"
        },
        "parameters": {
          "allOf": [
            {
              "$ref": "#/definitions/NumericalUpdaterParameters"
            }
          ],
          "default": {
            "initial_value": 0.0,
            "increment": 0.0,
            "decrement": 0.0,
            "minimum": 0.0,
            "maximum": 0.0
          },
          "description": "Parameters of the updater"
        }
      },
      "title": "NumericalUpdater",
      "type": "object"
    },
    "NumericalUpdaterOperation": {
      "enum": [
        "None",
        "Offset",
        "Gain",
        "Set",
        "OffsetPercentage"
      ],
      "title": "NumericalUpdaterOperation",
      "type": "string"
    },
    "NumericalUpdaterParameters": {
      "additionalProperties": false,
      "properties": {
        "initial_value": {
          "default": 0.0,
          "description": "Initial value of the parameter",
          "title": "Initial Value",
          "type": "number"
        },
        "increment": {
          "default": 0.0,
          "description": "Value to increment the parameter by",
          "title": "Increment",
          "type": "number"
        },
        "decrement": {
          "default": 0.0,
          "description": "Value to decrement the parameter by",
          "title": "Decrement",
          "type": "number"
        },
        "minimum": {
          "default": 0.0,
          "description": "Minimum value of the parameter",
          "title": "Minimum",
          "type": "number"
        },
        "maximum": {
          "default": 0.0,
          "description": "Minimum value of the parameter",
          "title": "Maximum",
          "type": "number"
        }
      },
      "title": "NumericalUpdaterParameters",
      "type": "object"
    },
    "QuiescencePeriod": {
      "description": "Defines a quiescence settings",
      "properties": {
        "duration": {
          "default": 0,
          "description": "Duration of the quiescence period",
          "minimum": 0.0,
          "title": "Duration",
          "type": "number"
        },
        "force_threshold": {
          "default": 0,
          "description": "Time out for the quiescence period",
          "maximum": 32768.0,
          "minimum": -32768.0,
          "title": "Force Threshold",
          "type": "number"
        },
        "dithering_duration": {
          "default": 0,
          "description": "Dithering duration used to exclude sporadic fast force changes.",
          "minimum": 0.0,
          "title": "Dithering Duration",
          "type": "number"
        },
        "has_cue": {
          "default": false,
          "description": "Whether to use a cue to signal the start of the period.",
          "title": "Has Cue",
          "type": "boolean"
        }
      },
      "title": "QuiescencePeriod",
      "type": "object"
    },
    "RandomWalkStatistics": {
      "properties": {
        "mode": {
          "const": "RandomWalk",
          "default": "RandomWalk",
          "title": "Mode",
          "type": "string"
        }
      },
      "title": "RandomWalkStatistics",
      "type": "object"
    },
    "ResponsePeriod": {
      "description": "Defines a response period",
      "properties": {
        "duration": {
          "default": 0,
          "description": "Duration of the response period. I.e. the time the animal has to make a choice.",
          "minimum": 0.0,
          "title": "Duration",
          "type": "number"
        },
        "has_cue": {
          "default": true,
          "description": "Whether to use a cue to signal the start of the period.",
          "title": "Has Cue",
          "type": "boolean"
        },
        "abort_on_force": {
          "default": false,
          "description": "Whether to abort the trial if a choice is made during the initiation period.",
          "title": "Abort On Force",
          "type": "boolean"
        },
        "abort_on_force_threshold": {
          "default": 0,
          "description": "Time out for the quiescence period",
          "maximum": 32768.0,
          "minimum": -32768.0,
          "title": "Abort On Force Threshold",
          "type": "number"
        },
        "has_feedback": {
          "default": false,
          "description": "Whether to provide feedback to the animal after the response period.",
          "title": "Has Feedback",
          "type": "boolean"
        }
      },
      "title": "ResponsePeriod",
      "type": "object"
    },
    "RewardPeriod": {
      "description": "Defines a reward period",
      "properties": {
        "delay": {
          "default": 0,
          "description": "Delay to reward availability.",
          "minimum": 0.0,
          "title": "Delay",
          "type": "number"
        },
        "is_operant": {
          "default": true,
          "description": "Whether the reward delivery is contingent on licking.",
          "title": "Is Operant",
          "type": "boolean"
        },
        "has_cue": {
          "default": true,
          "description": "Whether to use a cue to signal the availability of the reward.",
          "title": "Has Cue",
          "type": "boolean"
        },
        "time_to_collect": {
          "default": null,
          "description": "Time to collect the reward after it is available. If null, the reward will be available indefinitely.",
          "oneOf": [
            {
              "minimum": 0.0,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "title": "Time To Collect"
        }
      },
      "title": "RewardPeriod",
      "type": "object"
    },
    "RightHarvestAction": {
      "properties": {
        "label": {
          "const": "RightHarvestAction",
          "default": "RightHarvestAction",
          "title": "Label",
          "type": "string"
        },
        "probability": {
          "default": 1,
          "description": "Probability of reward",
          "title": "Probability",
          "type": "number"
        },
        "amount": {
          "default": 1,
          "description": "Amount of reward to be delivered",
          "title": "Amount",
          "type": "number"
        },
        "delay": {
          "default": 0,
          "description": "Delay between successful harvest and reward delivery",
          "title": "Delay",
          "type": "number"
        },
        "force_duration": {
          "default": 0.5,
          "description": "Duration that the force much stay above threshold",
          "title": "Force Duration",
          "type": "number"
        },
        "force_threshold": {
          "default": 5000,
          "description": "Force to be applied",
          "maximum": 32768.0,
          "minimum": -32768.0,
          "title": "Force Threshold",
          "type": "number"
        }
      },
      "title": "RightHarvestAction",
      "type": "object"
    },
    "Trial": {
      "description": "Defines a trial",
      "properties": {
        "inter_trial_interval": {
          "default": 0,
          "description": "Time between trials",
          "minimum": 0.0,
          "title": "Inter Trial Interval",
          "type": "number"
        },
        "quiescence_period": {
          "default": null,
          "description": "Quiescence settings",
          "oneOf": [
            {
              "$ref": "#/definitions/QuiescencePeriod"
            },
            {
              "type": "null"
            }
          ]
        },
        "initiation_period": {
          "allOf": [
            {
              "$ref": "#/definitions/InitiationPeriod"
            }
          ],
          "default": {
            "duration": 0.0,
            "has_cue": true,
            "abort_on_force": false,
            "abort_on_force_threshold": 0.0
          },
          "description": "Initiation settings"
        },
        "response_period": {
          "allOf": [
            {
              "$ref": "#/definitions/ResponsePeriod"
            }
          ],
          "default": {
            "duration": 0.0,
            "has_cue": true,
            "abort_on_force": false,
            "abort_on_force_threshold": 0.0,
            "has_feedback": false
          },
          "description": "Response settings"
        },
        "reward_period": {
          "allOf": [
            {
              "$ref": "#/definitions/RewardPeriod"
            }
          ],
          "default": {
            "delay": 0.0,
            "is_operant": true,
            "has_cue": true,
            "time_to_collect": null
          },
          "description": "Reward settings"
        },
        "left_action": {
          "allOf": [
            {
              "$ref": "#/definitions/HarvestAction"
            }
          ],
          "default": {
            "label": "LeftHarvestAction",
            "probability": 1.0,
            "amount": 1.0,
            "delay": 0.0,
            "force_duration": 0.5,
            "force_threshold": 5000.0
          },
          "description": "Specification of the left action"
        },
        "right_action": {
          "allOf": [
            {
              "$ref": "#/definitions/HarvestAction"
            }
          ],
          "default": {
            "label": "RightHarvestAction",
            "probability": 1.0,
            "amount": 1.0,
            "delay": 0.0,
            "force_duration": 0.5,
            "force_threshold": 5000.0
          },
          "description": "Specification of the right action"
        },
        "time_out": {
          "default": 0,
          "description": "Time out for the trial",
          "minimum": 0.0,
          "title": "Time Out",
          "type": "number"
        }
      },
      "title": "Trial",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "properties": {
    "describedBy": {
      "default": "",
      "title": "Describedby",
      "type": "string"
    },
    "schema_version": {
      "const": "0.1.0-preview01",
      "default": "0.1.0-preview01",
      "title": "Schema Version",
      "type": "string"
    },
    "environment": {
      "allOf": [
        {
          "$ref": "#/definitions/Environment"
        }
      ],
      "description": "Environment settings"
    },
    "updaters": {
      "additionalProperties": {
        "$ref": "#/definitions/NumericalUpdater"
      },
      "description": "List of numerical updaters",
      "title": "Updaters",
      "type": "object"
    }
  },
  "required": [
    "environment"
  ],
  "title": "AindForceForagingTaskLogic",
  "type": "object"
}